# RS School React Course 2025 - Tasks 1-6

Это приложение является выполнением заданий по курсу React от [RS School](https://rs.school/).

1.  **Task 1:** Настройка проекта, создание UI с использованием классовых компонентов.
2.  **Task 2:** Покрытие созданных компонентов Unit и Интеграционными тестами.
3.  **Task 3:** Рефакторинг на функциональные компоненты и хуки, внедрение роутинга.
4.  **Task 4:** Внедрение глобального управления состоянием (Zustand) и Context API.
5.  **Task 5:** Управление серверным состоянием с помощью TanStack Query.
6.  **Task 6:** Миграция на Next.js с Server-Side Rendering и интернационализацией.

**Деплой приложения:** **[https://rs-react-2025-sudorgin-daniils-projects.vercel.app/](https://rs-react-2025-sudorgin-daniils-projects.vercel.app/)**

## Обзор функционала

Приложение представляет собой галерею произведений искусства, использующую API [Art Institute of Chicago](https://api.artic.edu/api/v1/artworks).

- **Поиск:** поиск произведений искусства по ключевому слову.
- **Пагинация:** результаты поиска разделены на страницы, между которыми можно перемещаться.
- **Master-Detail View:** возможность открыть детальную информацию о произведении искусства в боковой панели, не покидая страницу со списком.
- **URL-управляемое состояние:** текущий поисковый запрос, страница и открытый детальный вид отражаются в URL, что позволяет делиться ссылками.
- **Сохранение поиска:** последний запрос сохраняется в Local Storage.
- **Обработка состояний:** реализованы индикаторы загрузки, ошибок, пустого результата и страница 404.
- **Обработка ошибок рендеринга:** приложение обернуто в `ErrorBoundary` для перехвата критических ошибок.
- **Выбор элементов:** Пользователь может выбирать отдельные произведения искусства для дальнейших действий. Состояние выбора сохраняется при навигации.
- **Смена темы:** Реализована возможность переключения между светлой и темной темами оформления.
- **Продвинутое кэширование:** Данные кэшируются.
- **Многоязычность (i18n):** Поддержка нескольких языков (русский, английский) с сохранением текущей локали в URL.

## Технический стек и особенности

- **Фреймворк:** React
- **Язык:** TypeScript
- **Сборщик:** Vite
- **Стилизация:** Tailwind CSS
- **Роутинг и данные:**
  - Используется **файловая маршрутизация** Next.js.
  - Все статические запросы к API выполняются на **сервере** (в Серверных Компонентах).
  - Кэширование данных обеспечивается **нативными механизмами Next.js `fetch`**.
- **Ключевые особенности:**
  - Код приложения разделен на **Серверные Компоненты (Server Components)** и **Клиентские Компоненты (Client Components)** для оптимизации производительности.
  - Реализована **Интернационализация (i18n)** с помощью `next-intl` для поддержки нескольких языков и локализованной маршрутизации.
  - Генерация CSV-файла происходит на **сервере** с помощью **Server Actions**.
  - Все изображения оптимизированы с использованием компонента **`next/image`**.
  - Настроен полный **локальный CI/CD-пайплайн**: ESLint, Stylelint, Prettier, Husky (`pre-commit`, `pre-push`), `lint-staged`, `commitlint`.
  - Приложение соответствует всем требованиям предыдущих модулей, адаптированным под новую архитектуру.
- **Управление состоянием:**
  - **Серверное состояние** (данные с API, статусы загрузки/ошибок) управляется **нативными механизмами Next.js `fetch` (с серверным кэшированием)**.
  - **Клиентское состояние** (выбранные элементы) управляется **Zustand**.
  - **Состояние темы** управляется через **React Context API**.

## Локальный запуск

Этот проект использует `pnpm` в качестве основного пакетного менеджера, но полностью совместим с `npm`.

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/Zilusion/rs-react-2025.git
    cd rs-react-2025
    ```

2.  **Переключитесь на актуальную рабочую ветку:**

    ```bash
    git checkout nextjs-ssr
    ```

3.  **Установите зависимости:**
    - **С помощью `pnpm` (рекомендуется):**
      ```bash
      pnpm install
      ```
    - **С помощью `npm`:**
      ```bash
      npm install
      ```

4.  **Запустите сервер для разработки:**
    - **С помощью `pnpm`:**
      ```bash
      pnpm dev
      ```
    - **С помощью `npm`:**
      ```bash
      npm run dev
      ```

## Доступные скрипты

- **`pnpm dev` / `npm run dev`**: Запуск приложения в режиме разработки.
- **`pnpm build` / `npm run build`**: Сборка продакшн-версии приложения.
- **`pnpm check` / `npm run check`**: Запуск всех проверок качества кода.
- **`pnpm fix` / `npm run fix`**: Попытка автоматического исправления всех ошибок.
- **`pnpm test` / `npm run test`**: Запуск тестов в watch-режиме.
- **`pnpm test:coverage` / `npm run test:coverage`**: Запуск тестов с генерацией отчета о покрытии.
